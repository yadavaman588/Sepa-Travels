<app-navbar></app-navbar>
<div class="container">
  <h2 class="contact-heading">CONTACT FORM</h2>
  <div class="form-container">
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
      <!-- Name Field -->
      <div class="form-group">
        <input 
          id="name" 
          placeholder="Name" 
          type="text" 
          formControlName="name" 
          [ngClass]="{ 'invalid-input': contactForm.get('name')?.invalid && contactForm.get('name')?.touched }" 
        />
        <div *ngIf="contactForm.get('name')?.invalid && contactForm.get('name')?.touched" class="error-message" style="color: red;"
       >
          Name is required.
        </div>
      </div>

      <!-- Email Field -->
      <div class="form-group">
        <input 
          id="email" 
          placeholder="Email" 
          type="email" 
          formControlName="email" 
          [ngClass]="{ 'invalid-input': contactForm.get('email')?.invalid && contactForm.get('email')?.touched }"

        />
        <div *ngIf="contactForm.get('email')?.invalid && contactForm.get('email')?.touched" class="error-message">
          <span *ngIf="contactForm.get('email')?.errors?.['required']" style="color: red;">Email is required.</span>
          <span *ngIf="contactForm.get('email')?.errors?.['email']" style="color: red;">Please enter a valid email address.</span>
        </div>
      </div>

      <!-- Message Field -->
      <div class="form-group">
        <textarea 
          id="message" 
          placeholder="Message" 
          formControlName="message" 
          [ngClass]="{ 'invalid-input': contactForm.get('message')?.invalid && contactForm.get('message')?.touched }">
        </textarea>
        <div *ngIf="contactForm.get('message')?.invalid && contactForm.get('message')?.touched" class="error-message" style="color: red;"
       >
          Message is required.
        </div>
      </div>

      <!-- Submit Button -->
      <div class="form-group-submit">
        <button type="submit">Send message</button>
      </div>
    </form>
  </div>
</div>

<div class="count-section">
  <div class="count-container">
    <div class="count-block">
      <h2 id="passengers-count" class="count">
        <div class="home_icon">
          <i class="fas fa-home" style="color: #FBD309; font-size: 5rem;"></i>  
        </div>
        <br>
        8901 Marmora Road, Glasgow, D04 89GR.
      </h2>
    </div>
    <div class="count-block" (click)="makeCall()" style="cursor: pointer;">
      <h2 id="drivers-count" class="count">
        <div class="home_icon">
          <i class="fas fa-phone" style="color: #FBD309; font-size: 5rem;"></i>  
        </div>
        <br>
        {{ phoneNum }}
      </h2>
    </div>
    <div class="count-block" (click)="sendEmail()" style="cursor: pointer;">
      <h2 id="routes-count" class="count">
        <div class="home_icon">
          <i class="fas fa-envelope" style="color: #FBD309; font-size: 5rem;"></i>  
        </div>
        <br>
        {{ mail }}
      </h2>
    </div>
  </div>
</div>

<div class="map-section">
  <div class="map-container">
    <iframe 
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d23731.718800423345!2d-4.287069372902151!3d55.86423703668416!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4888469a5e3081c7%3A0xa8e19166bb439e6!2sGlasgow%2C%20UK!5e0!3m2!1sen!2sin!4v1692287874897!5m2!1sen!2sin" 
      allowfullscreen=""
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade">
    </iframe>
  </div>
</div>

<app-footer></app-footer>
